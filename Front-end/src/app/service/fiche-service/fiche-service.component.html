<h1 nz-typography style="text-align: center; color: #1890ff;">Fiche service</h1>
<div *ngIf="loading" style="text-align: center; margin-top: 100px;">
    <nz-spin nzSimple [nzSize]="'large'"></nz-spin>
</div>
<div nz-row *ngIf="!loading">
    <div nz-col nzSpan="8"></div>

    <div nz-col nzSpan="8" >

        <nz-card style="width:100%; text-align: center;" nzTitle="{{service.nom}}" [nzActions]="[ actionEdit,actionDelete]" >
          <img *ngIf="service.photo" [src]="service.photo" alt="Photo du service" style="max-width: 100%; max-height: 200px; margin-bottom: 10px;">
            <!-- <nz-card-meta nzTitle="{{service.nom}}" nzDescription="{{service.prix}} Ar - {{service.duree}} min - {{service.taux_commission}} %"
                ></nz-card-meta> -->
            <p><strong>Prix:</strong> {{service.prix}} Ar</p>
            <p><strong>Durée:</strong> {{service.duree}} min</p>
            <p><strong>Taux de commission:</strong> {{service.taux_commission*100}} %</p>

        </nz-card>
        <ng-template #actionEdit>
            <span nz-icon nzType="edit"></span>
        </ng-template>
        <ng-template #actionDelete>
            <span nz-icon nzType="delete" nzTheme="outline"></span>
        </ng-template>
    </div>

    <div nz-col nzSpan="8"></div>

</div>
<br>
<br>
<div>
    <h3 nz-typography style="text-align: center; color: #1890ff;">Offres spéciales</h3>
    <div style="display: flex; justify-content: center;">
      <form #offreForm="ngForm" style="display: flex; flex-direction: row; align-items: flex-end;">
        <div style="margin-right: 10px;">
          <h4>Début : </h4>
          <input nz-input placeholder="Début" [(ngModel)]="newOffreSpeciale.datedebut" name="datedebut" type="date" nzSize="large" />
        </div>

        <div style="margin-right: 10px;">
          <h4>Fin : </h4>
          <input nz-input placeholder="Fin" [(ngModel)]="newOffreSpeciale.datefin" name="datefin" type="date" nzSize="large" />
        </div>

        <div style="margin-right: 10px;">
          <h4>Réduction %: </h4>
          <input nz-input placeholder="Réduction" [(ngModel)]="newOffreSpeciale.reduction" name="reduction" type="number" nzSize="large" />
        </div>

        <div>
          <button (click)="addOffre()" type="button" nz-button nzType="primary" nzSize="large" nzShape="round">Ajouter</button>
        </div>
      </form>
    </div>

    <div *ngIf="!loading && offres.length > 0" style="padding: 30px;">
      <div nz-row [nzGutter]="8">
        <ng-container *ngFor="let offre of offres">
          <div nz-col [nzSpan]="6" style="text-align: center;">
            <nz-card nzTitle="{{offre.datedebut | date:'dd/MM/yyyy'}} - {{offre.datefin | date:'dd/MM/yyyy'}}">
              <p> Réduction de {{offre.reduction*100}} % </p>
            </nz-card>
          </div>
        </ng-container>
      </div>
    </div>

</div>
